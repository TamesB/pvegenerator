{% extends "layout_syn.html" %}

{% load semanticui %}
{% load static %}
{% load custom_tags %}

{% block menu %}
<div class="hamburger"><img src="{% static 'syntrus/svg/hamburger.svg' %}"></img></div>
<div class="menu_item"><a href="{% url 'dashboard_syn' %}" class="active">Dashboard</a></div>
<div class="menu_item"><a href="{% url 'plusproject_syn' %}">+ Project</a></div>
<div class="menu_item"><a href="{% url 'plusaccount_syn' %}">+ Accounts</a></div>
<div class="menu_item"><a href="{% url 'generate_syn' %}">Genereer PVE</a></div>
<div class="hori-menu-logout">
    <a href="{% url 'dashboard_syn' %}">Ingelogd als {{ request.user }}</a>
    <a href="{% url 'logout_syn' %}">Afmelden</a>
</div>
{% endblock %}
{% block main %}
<div class="flex-container">
  <div class="flex-item" onClick="javascript:location.href='{% url 'plusproject_syn' %}';">
    <img class="flex-img" src="{% static 'syntrus/img/plusproject.png' %}"></img>
    <p>+ Project</p>
  </div>
  <div class="flex-item" onClick="javascript:location.href='{% url 'plusaccount_syn' %}';">
    <img class="flex-img" src="{% static 'syntrus/img/accountsderden.png' %}"></img>
    <p>+ Account</p>
  </div>
  <div class="flex-item" onClick="javascript:location.href='{% url 'generate_syn' %}';">
    <img class="flex-img" src="{% static 'syntrus/img/genereer.png' %}"></img>
    <p>Genereer PVE</p>
  </div>
</div>
<div class="main_content_div">
    <table class="project_overview_content">
      <caption>Projecten overzicht</caption>
      <thead>
        <tr class="table_title">
          <th>Projectnummer</th>
          <th>Projectnaam</th>
          <th>Locatie</th>
          <th>Aantal VHE</th>
          <th>Fase</th>
          <th>Projectmanager</th>
          <th>Download PvE</th>
        </tr>
      </thead>
      <tbody>
        {% for project in projects %}
        <tr class="table_content">
          <td>{{ project.nummer }}</td>
          <td>{{ project.naam }}</td>
          <td>{{ project.plaatsnamen }}</td>
          <td>{{ project.vhe }}</td>
          <td>{{ project.statuscontract }}</td>
          <td>{% if project.projectmanager %}{{ project.projectmanager }}{% else %}<a href="{% url 'plusaccount_syn' %}"><img src="{% static 'syntrus/img/plus.png' %}"></img> Voeg toe</a>{% endif %}</td>
          <td>{% if project.pveconnected %}<a href="{% url 'download_pve_syn' project.id %}"><img class="img" src="{% static 'syntrus/img/download.png' %}"></img></a>{% else %}<a href="{% url 'connectpve_syn' project.id %}"><img src="{% static 'syntrus/img/plus.png' %}"></img> Voeg toe</a>{% endif %}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
</div>
{% endblock %}
